/*! placeholder 0.1.2
 * (c) 2012-2013 Jony Zhang <zj86@live.cn>, MIT Licensed
 * https://github.com/niceue/placeholder/
 */
!function(e,t){function n(t,n){var a;a=t?e(t).is(":input")?e(t):e(t).find(":input"):e("input,textarea"),a.filter(":input[placeholder]").each(function(){var t=e(this),a=t.prev("label."+m),o=t.attr("placeholder");if(!a.length){var u=this.id;u||(u=this.id=s()),a=e('<label class="'+m+(""!==t.val()?" "+b:"")+'" for="'+u+'" onselectstart="return false"><span></span></label>'),r&&h(this,i),t.before(a)}a.find("span").css({width:t.css("width"),height:t.css("height"),paddingTop:t.css("padding-top"),paddingLeft:t.css("padding-left"),marginLeft:parseInt(t.css("margin-left"))+parseInt(t.css("border-left-width"))+"px",marginTop:parseInt(t.css("margin-top"))+parseInt(t.css("border-top-width"))+"px",fontSize:t.css("font-size"),fontFamily:t.css("font-family"),lineHeight:t.css("line-height")}).text(o),n&&a.find("span").css(n)})}function s(){return"ph"+(""+Math.random()).substr(2,8)}function i(t,n){var s=e(t),i=s.prevAll("label."+m+"[for="+t.id+"]"),a=i.hasClass(b);""===n||""===s.val()?a&&i.removeClass(b):!a&&i.addClass(b)}function a(){return!p||r&&(!f&&d&&15>d||c&&c>9||l)}var r=1,o=navigator.userAgent.toLowerCase(),u=function(e){return e.test(o)},c=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),f=u(/chrome/),d=u(/firefox/)&&!u(/(compatible|webkit)/)&&+/firefox\/(\d*)/.exec(o)[1],l=u(/safari/)&&!f,p="placeholder"in document.createElement("input"),h=c&&8>=c?function(e,t){e.attachEvent("onpropertychange",function(){t(e)})}:function(e,t){e.addEventListener("input",function(){t(e)},!1)},m="ph-label",v="ph-focus",b="ph-hide";if(c&&8>=c&&!e.event.special.reset&&(e.event.special.reset={setup:function(){return e.nodeName(this,"form")?!1:(e.event.add(this,"click._reset keypress._reset",function(n){var s=n.target,i=e.nodeName(s,"input")||e.nodeName(s,"button")?s.form:t;i&&!i._reset_attached&&(e.event.add(i,"reset._reset",function(e){e._reset_bubble=!0}),i._reset_attached=!0)}),t)},postDispatch:function(t){t._reset_bubble&&(delete t._reset_bubble,this.parentNode&&!t.isTrigger&&e.event.simulate("reset",this.parentNode,t,!0))},teardown:function(){return e.nodeName(this,"form")?!1:(e.event.remove(this,"._reset"),t)}}),a()){var g=e.valHooks;g.input=g.input||{},g.textarea=g.textarea||{};var x={input:g.input.set,textarea:g.textarea.set};g.input.set=g.textarea.set=function(e,t){var n=e.nodeName.toLowerCase();x[n]&&x[n](e,t),setTimeout(function(){i(e,t)},0)}}e(function(){var t=e("body"),o="[placeholder]",u=function(t){return t.id||(t.id=s()),e(t).prevAll("label."+m+'[for="'+t.id+'"]')};(!p||r)&&(r?(t.on("focusin focusout",o,function(e){"focusin"==e.type?u(this).addClass(v):u(this).removeClass(v),i(this)}),(f||d&&d>15||c&&c>9)&&e("html").addClass("ph-fix"),l&&t.addClass("ph-safari")):t.on("focusin focusout",o,function(e){""===this.value&&("focusin"===e.type?u(this).addClass(b):u(this).removeClass(b))}),t.on("reset","form",function(t){setTimeout(function(){e("input,textarea",t.target).filter(o).each(function(e,t){i(t)})},25)}).on("contextmenu","."+m,function(){e(this).next(o).focus()}).on("input",o,function(){i(this)})),a()&&n()}),e.fn.placeholder=function(e){return a()&&n(this,e),this}}(jQuery);
