/*! placeholder 0.1.0
 * (c) 2012-2013 Jony Zhang <zj86@live.cn>, MIT Licensed
 * https://github.com/niceue/placeholder/
 */
(function(e,t){function n(t,n){e(t||"input,textarea").filter("[placeholder]").each(function(){var t=e(this),i=t.prev("label."+h);if(!i.length){var o=t.attr("id"),r=t.attr("placeholder");o||(o="ph"+(""+Math.random()).substr(2,8),t.attr("id",o)),i=e('<label class="'+h+(""!==t.val()?" "+v:"")+'" for="'+o+'" onselectstart="return false"><span>'+r+"</span></label>"),a&&p(this,s),t.before(i)}i.find("span").css({width:t.css("width"),height:t.css("height"),paddingTop:t.css("padding-top"),paddingLeft:t.css("padding-left"),marginLeft:parseInt(t.css("margin-left"))+parseInt(t.css("border-left-width"))+"px",marginTop:parseInt(t.css("margin-top"))+parseInt(t.css("border-top-width"))+"px",fontSize:t.css("font-size"),fontFamily:t.css("font-family"),lineHeight:t.css("line-height")}),n&&i.find("span").css(n)})}function s(t){var n=e(t),s=n.prevAll("label."+h+"[for="+t.id+"]"),i=s.hasClass(v);""===n.val()?i&&s.removeClass(v):!i&&s.addClass(v)}function i(){return!l||a&&(!f&&u&&15>u||c&&c>9||d)}var a=1,o=navigator.userAgent.toLowerCase(),r=function(e){return e.test(o)},c=window.ActiveXObject?document.documentMode||(window.XMLHttpRequest?7:6):0,f=r(/chrome/),u=r(/firefox/)&&!r(/(compatible|webkit)/)&&+/firefox\/(\d*)/.exec(o)[1],d=r(/safari/)&&!f,l="placeholder"in document.createElement("input"),p=c&&8>=c?function(e,t){e.attachEvent("onpropertychange",function(){t(e)})}:function(e,t){e.addEventListener("input",function(){t(e)},!1)},h="ph-label",m="ph-focus",v="ph-hide";c&&8>=c&&!e.event.special.reset&&(e.event.special.reset={setup:function(){return e.nodeName(this,"form")?!1:(e.event.add(this,"click._reset keypress._reset",function(n){var s=n.target,i=e.nodeName(s,"input")||e.nodeName(s,"button")?s.form:t;i&&!i._reset_attached&&(e.event.add(i,"reset._reset",function(e){e._reset_bubble=!0}),i._reset_attached=!0)}),t)},postDispatch:function(t){t._reset_bubble&&(delete t._reset_bubble,this.parentNode&&!t.isTrigger&&e.event.simulate("reset",this.parentNode,t,!0))},teardown:function(){return e.nodeName(this,"form")?!1:(e.event.remove(this,"._reset"),t)}}),e(function(){var t=e("body"),o="[placeholder]",r=function(t){return e(t).prevAll("label."+h+"[for="+t.id+"]")};(!l||a)&&(a?(t.on("focusin focusout",o,function(e){"focusin"==e.type?r(this).addClass(m):r(this).removeClass(m),s(this)}),(f||u&&u>15||c&&c>9)&&t.addClass("ph-fix"),d&&t.addClass("ph-safari")):t.on("focusin focusout",o,function(e){""===this.value&&("focusin"===e.type?r(this).addClass(v):r(this).removeClass(v))}),t.on("reset","form",function(t){setTimeout(function(){e("input,textarea",t.target).filter(o).each(function(e,t){s(t)})},25)}).on("contextmenu","."+h,function(){e(this).next(o).focus()}).on("input",o,function(){s(this)})),i()&&n()}),e.fn.placeholder=function(e){return i()&&n(this,e),this}})(jQuery);
