/*! placeholder 0.1.1
 * (c) 2012-2013 Jony Zhang <zj86@live.cn>, MIT Licensed
 * https://github.com/niceue/placeholder/
 */
!function(e,t){function n(t,n){e(t||"input,textarea").filter("[placeholder]").each(function(){var t=e(this),a=t.prev("label."+h);if(!a.length){var r=t.attr("id"),o=t.attr("placeholder");r||(r="ph"+(""+Math.random()).substr(2,8),t.attr("id",r)),a=e('<label class="'+h+(""!==t.val()?" "+v:"")+'" for="'+r+'" onselectstart="return false"><span>'+o+"</span></label>"),i&&p(this,s),t.before(a)}a.find("span").css({width:t.css("width"),height:t.css("height"),paddingTop:t.css("padding-top"),paddingLeft:t.css("padding-left"),marginLeft:parseInt(t.css("margin-left"))+parseInt(t.css("border-left-width"))+"px",marginTop:parseInt(t.css("margin-top"))+parseInt(t.css("border-top-width"))+"px",fontSize:t.css("font-size"),fontFamily:t.css("font-family"),lineHeight:t.css("line-height")}),n&&a.find("span").css(n)})}function s(t,n){var s=e(t),a=s.prevAll("label."+h+"[for="+t.id+"]"),i=a.hasClass(v);""===n||""===s.val()?i&&a.removeClass(v):!i&&a.addClass(v)}function a(){return!d||i&&(!u&&f&&15>f||c&&c>9||l)}var i=1,r=navigator.userAgent.toLowerCase(),o=function(e){return e.test(r)},c=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),u=o(/chrome/),f=o(/firefox/)&&!o(/(compatible|webkit)/)&&+/firefox\/(\d*)/.exec(r)[1],l=o(/safari/)&&!u,d="placeholder"in document.createElement("input"),p=c&&8>=c?function(e,t){e.attachEvent("onpropertychange",function(){t(e)})}:function(e,t){e.addEventListener("input",function(){t(e)},!1)},h="ph-label",m="ph-focus",v="ph-hide";if(c&&8>=c&&!e.event.special.reset&&(e.event.special.reset={setup:function(){return e.nodeName(this,"form")?!1:(e.event.add(this,"click._reset keypress._reset",function(n){var s=n.target,a=e.nodeName(s,"input")||e.nodeName(s,"button")?s.form:t;a&&!a._reset_attached&&(e.event.add(a,"reset._reset",function(e){e._reset_bubble=!0}),a._reset_attached=!0)}),t)},postDispatch:function(t){t._reset_bubble&&(delete t._reset_bubble,this.parentNode&&!t.isTrigger&&e.event.simulate("reset",this.parentNode,t,!0))},teardown:function(){return e.nodeName(this,"form")?!1:(e.event.remove(this,"._reset"),t)}}),a()){var b=e.valHooks;b.input=b.input||{},b.textarea=b.textarea||{};var g={input:b.input.set,textarea:b.textarea.set};b.input.set=b.textarea.set=function(e,t){var n=e.nodeName.toLowerCase();g[n]&&g[n](e,t),setTimeout(function(){s(e,t)},0)}}e(function(){var t=e("body"),r="[placeholder]",o=function(t){return e(t).prevAll("label."+h+"[for="+t.id+"]")};(!d||i)&&(i?(t.on("focusin focusout",r,function(e){"focusin"==e.type?o(this).addClass(m):o(this).removeClass(m),s(this)}),(u||f&&f>15||c&&c>9)&&t.addClass("ph-fix"),l&&t.addClass("ph-safari")):t.on("focusin focusout",r,function(e){""===this.value&&("focusin"===e.type?o(this).addClass(v):o(this).removeClass(v))}),t.on("reset","form",function(t){setTimeout(function(){e("input,textarea",t.target).filter(r).each(function(e,t){s(t)})},25)}).on("contextmenu","."+h,function(){e(this).next(r).focus()}).on("input",r,function(){s(this)})),a()&&n()}),e.fn.placeholder=function(e){return a()&&n(this,e),this}}(jQuery);
